{# templates/pages/auth/login.html.twig #}
{% extends 'base.html.twig' %}

{% block body %}
    <h1>Connexion</h1>

    {# Affichage des erreurs de connexion si présentes #}
    {% if error %}
        <div class="alert alert-danger">
            {{ error.messageKey|trans(error.messageData, 'security') }}
        </div>
    {% endif %}

    {# Formulaire de connexion #}
    <form action="{{ path('app_connexion') }}" method="post">
        {{ form_start(form) }}
        
        <div class="form-group">
            <label for="{{ form.email.vars.id }}">E-mail :</label>
            {{ form_widget(form.email, { 'attr': {'placeholder': 'Votre adresse e-mail', 'class': 'form-control'} }) }}
        </div>

        <div class="form-group">
            <label for="{{ form.password.vars.id }}">Mot de passe :</label>
            {{ form_widget(form.password, { 'attr': {'placeholder': 'Votre mot de passe', 'class': 'form-control'} }) }}
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary w-100">Se connecter</button>
        </div>

        {{ form_end(form) }}
    </form>

    {# Lien vers l'inscription pour les utilisateurs non inscrits #}
    <div class="mt-3">
        <a href="{{ path('app_register') }}">Pas encore inscrit ? Créez un compte.</a>
    </div>
{% endblock %}
