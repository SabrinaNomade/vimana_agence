{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block content %}

    <div class="login-intro">
        <h2>Connectez-vous à votre espace 🎨</h2>
        <p>Accédez à votre guide gratuit, suivez vos projets et bénéficiez de notre accompagnement artistique.</p>
    </div>

    {# Affichage des messages flash #}
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    <div class="form-container">
        <form action="{{ path('app_connexion') }}" method="post">
            <div class="form-group">
                <label for="email">Adresse Email</label>
                <input type="text" id="email" name="email" value="{{ last_username }}" required class="form-control" placeholder="exemple@domaine.com" />
            </div>

            <div class="form-group">
                <label for="password">Mot de passe</label>
                <input type="password" id="password" name="password" required class="form-control" placeholder="Votre mot de passe" />
            </div>

            <button type="submit" class="btn btn-primary">🎯 Se connecter</button>
        </form>

        {% if app.user %}
            <form action="{{ path('app_deconnexion') }}" method="post">
                <button type="submit" class="btn btn-danger mt-3" style="width: 100%; font-weight: bold;">
                    🔓 Déconnexion
                </button>
            </form>
        {% endif %}
    </div>

    <div class="extra-links">
        <p>Vous n'avez pas de compte ? <a href="{{ path('app_register') }}">S'inscrire</a></p>
        <p><a href="{{ path('app_forgotpassword') }}">Mot de passe oublié ?</a></p>
        <a href="{{ path('app_home') }}" class="btn btn-light">🏠 Retour à l'accueil</a>
    </div>

{% endblock %}






