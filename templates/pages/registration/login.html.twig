{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block content %}
    {# Affichage des flash messages #}
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    <div class="form-container"> <!-- Conteneur flex pour aligner à gauche -->
        <form action="{{ path('app_connexion') }}" method="post">
            <div class="form-group">
                <label for="email">Adresse Email</label>
                <input type="text" id="email" name="email" value="{{ last_username }}" required="required" class="form-control" />
            </div>

            <div class="form-group">
                <label for="password">Mot de passe</label>
                <input type="password" id="password" name="password" required="required" class="form-control" />
            </div>

            <button type="submit" class="btn btn-primary">Se connecter</button>
            {% if app.user %}
    <form action="{{ path('app_deconnexion') }}" method="post">
    <button type="submit" class="btn btn-danger mt-3" style="width: 100%; font-weight: bold;">
        Déconnexion
    </button>
</form>

    </form>
{% endif %}

        </form>
    </div>

    <p>Vous n'avez pas de compte ? <a href="{{ path('app_register') }}">S'inscrire</a></p>
    <p>
        <a href="{{ path('app_home') }}">Retour à l'accueil</a>
    </p>
{% endblock %}
